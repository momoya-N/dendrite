% 条件式関係
\usepackage{ifthen}

% 配置関係
\usepackage{geometry}
% Chapter が勝手に改ページしないようにする 
\makeatletter
\renewcommand{\chapter}{%
  \if@openright\cleardoublepage\else\clearpage\fi
  \global\@topnum\z@
  \secdef\@chapter\@schapter}
\makeatother

%画像描画関係
\usepackage{xcolor}%https://qiita.com/zr_tex8r/items/442b75b452b11bee8049
%xcolorとgraphicxはドライバを共有しているため，挙動がおかしくなる可能性大。->(x)colorを先に読み込むと動く，後でgraphicのドライバが正しく上書きされているためと思われる。
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage[hang,small,bf]{caption}
\usepackage[subrefformat=parens]{subcaption}
\usepackage{here}

%数式関係
\usepackage{amsmath}
\usepackage{amsthm}
\newtheorem{definition}{定義}[section]%定義環境の設定
\usepackage{amssymb}
\usepackage{siunitx}
\usepackage{physics2}
\usephysicsmodule{ab}
\usephysicsmodule{ab.legacy}
\usepackage{derivative}
\usepackage{fixdif}
\usepackage[version=4]{mhchem}
\usepackage{bm}

%テキスト関係
\usepackage{url}
\usepackage{enumerate} %細かい設定ができるenumerate
\usepackage{ifdraft}
\ifdraft{\usepackage{showkeys}}{}
\usepackage{lipsum}

% 参照関係
\usepackage{mathtools}
\mathtoolsset{showonlyrefs=true}
\ifdraft{\usepackage[inline]{showlabels}}{}
\ifthenelse{\boolean{luatex}}{\usepackage[unicode,pdfusetitle]{hyperref}}{
  \usepackage[pdfusetitle,backref=page]{hyperref}
  \usepackage{pxjahyper}
  \hypersetup{%
    setpagesize=false,%
    % bookmarks=true,%
    bookmarksdepth=tocdepth,%
    bookmarksnumbered=true,%
    colorlinks=true,%
    linkcolor=darkgray,%
    citecolor=blue,%
    urlcolor=cyan,%
    % pdftitle={},%
    % pdfsubject={},
    % pdfauthor={},%
    % pdfkeywords={}
  }
}



